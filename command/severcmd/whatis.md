# 서버단 명령이란?

포건시의 서버 명령에는 이름, 파라미터, 명령 및 반환 값의 네 가지 요소가 포함됩니다. 이름과 명령은 필수 요소이고 매개 변수 및 반환 값은 필수 요소가 아닙니다.

서버단 명령이 호출되면 서버 명령의 이름으로 호출되고, 페이지 측 매개 변수의 값이 서버 단에 전달되고, 서버단은 지정된 명령을 실행하고, 실행이 완료되면 페이지 측에 값을 반환합니다. 이 프로세스는 다음 그림과 같습니다.

![](<../../.gitbook/assets/MicrosoftTeams-image (1).png>)

## 파라미터가 없는 서버 명령&#x20;

서버단 명령은 파라미터를 설정하지 않고 서버 명령의 이름을 설정한 후 명령을 직접 편집할 수 있습니다.

예를 들어 CSV 내보내기라는 서버 명령을 만든 다음 명령을 편집하고 CSV 내보내기 명령을 선택합니다. CSV 작업을 선택하고 데이터 테이블 및 CSV의 파일 경로를 선택합니다. 폴더는 이미 있는 폴더여야 하며 접미사 이름 ".csv"은 생략할 수 있습니다.

![](<../../.gitbook/assets/image (1346).png>)

![](<../../.gitbook/assets/image (1713).png>)

설정이 완료되면 이 서버 명령을 호출할 수 있습니다.예를 들어 페이지에서 셀 범위를 선택하고 버튼을  설정합니다. 버튼 명령을 편집하고 "서버단 명령 호출"로 명령을 선택한 다음 서버 쪽 명령 뒤에 있는 드롭다운을 클릭하고 드롭다운 목록에서 "CSV 내보내기"를 선택합니다

![](<../../.gitbook/assets/image (1542).png>)



페이지를 실행합니다.페이지에서 \[CSV 내보내기] 버튼을 클릭하면 설정된 지정된 경로 아래에 내보낸 CSV 파일이 표시됩니다.

![](<../../.gitbook/assets/image (1952).png>)

## 파라미터가 있는 서버단 명령&#x20;

서버단 명령은 파라미터를 설정하고 명령을 편집할 수 있습니다.

예를 들어 "직원 추가"라는 이름의 서버 명령을 만든 다음 그림과 같이  3가지 기본 형식의 파라미터를 추가합니다.

![](<../../.gitbook/assets/image (763).png>)

파라미터를 설정한 후 명령을 편집하고 데이터 테이블 업데이트하기 명령을 선택합니다. 작업 유형은 추가, , 필드 값 설정에 대한 해당 매개 변수입니다.

![](<../../.gitbook/assets/image (2293).png>)

설정이 완료되면 이 서버단 명령을 호출할 수 있습니다.예를 들어 페이지에서 셀 범위를 선택하고 버튼을 설정합니다. 버튼의 명령을 편집하고 "서버단 명령 호출"으로 명령을 선택한 다음 서버 쪽 명령 뒤에 있는 드롭다운을 클릭하고 드롭다운 목록에서 "직원 추가"라는 서버 쪽 명령을 선택합니다.

"직원 추가" 서비스 쪽 명령에 파라미터가 있기 때문에 모든 파라미터가 자동으로 나열되므로 매개 변수 값을 설정해야 하며 매개 변수 값은 페이지의 해당 셀입니다. 그런 다음 "호출이 성공한 후 데이터 다시 로드"를 선택하여 데이터를 추가한 후 페이지가 새로 고쳐지고 추가된 데이터가 표시됩니다.

![](<../../.gitbook/assets/image (1356).png>)

## 반환 값이 있는 서버단 명령&#x20;

서버 측에서 서버 명령을 실행할 때 예외가 발생할 수 있으며 반환 명령 생성하기 사용하여 서버단 명령이 실행될 때 발생하는 예외 정보를 페이지에 반환하여 문제를 찾고 해결할 수 있습니다.

예를 들어 "주문 상태 업데이트"라는 이름의 서버 명령을 만들고 서버단 명령의 이름을 설정한 후 명령을 직접 편집할 수 있습니다.

로그인한 사용자의 역할이 관리자인 경우 데이터 테이블 작업 명령을 실행하고 주문 테이블을 업데이트하는 조건부 명령으로 명령을 설정합니다. 그렇지 않으면 오류 코드 및 오류 메시지가 반환됩니다.

![](<../../.gitbook/assets/image (1323).png>)

설정이 완료되면 이 서버단 명령을 호출할 수 있습니다.예를 들어 페이지에서 셀 범위를 선택하고 버튼을 설정합니다. 버튼의 명령을 편집하고 "서버 쪽 명령 호출"으로 명령을 선택한 다음 서버단 명령의 드롭다운을 클릭하고 드롭다운 목록에서 "주문 상태 업데이트"를 선택합니다.

페이지에 지정된 셀에 반환 코드 및 반환 정보를 설정합니다

![](<../../.gitbook/assets/image (2220).png>)

실행 후, 주문상태업데이트를 클릭하면 오른쪽에 반환값이 나오는 것을 확인할 수 있습니다.&#x20;

![](<../../.gitbook/assets/image (1573).png>)
