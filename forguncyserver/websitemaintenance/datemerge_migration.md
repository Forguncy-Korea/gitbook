# 데이터 병합 및 마이그레이션

서버 데이터베이스를 덮어쓸 때 반덮어쓰기 또는 전체 범위 선택을 지원하는 기존 응용 프로그램을 게시합니다.

## 웹사이트 배포&#x20;

빌더의 리본 메뉴 모음에서 \[배포->서버배포]를 선택하고 서버 데이터베이스 덮어쓰기를 선택합니다.

<figure><img src="../../.gitbook/assets/image (144).png" alt=""><figcaption></figcaption></figure>

## 데이터 병합 및 마이그레이션&#x20;

서버 데이터베이스 덮어쓰기를 선택하면 다음 두 가지 옵션이 있습니다.

<figure><img src="../../.gitbook/assets/image (1624).png" alt=""><figcaption></figcaption></figure>

* 모두 덮어쓰기 : 빌더의 테이블 구조 및 데이터로 모든 서버 데이터베이스를 덮어쓴다.
* 부분 덮어쓰기: 빌더의 테이블 구조를 서버의 데이터베이스 테이블로 엎어쓰기하지만, 서버의 데이터들은 그대로 유지한다.&#x20;

#### 데이터 마이그레이션 정보 설정&#x20;

부분 덮어쓰기를 선택하면 다음 그림과 같이 데이터 병합 설정이 필요합니다.&#x20;

<figure><img src="../../.gitbook/assets/image (1598).png" alt=""><figcaption></figcaption></figure>

\[데이터 마이그레이션 정보 설정] 대화 상자의 맨 위에는 모든 항목과 여러 항목이라는 두 가지 옵션이 있습니다. 각 항목은 왼쪽과 오른쪽 두 영역으로 나뉩니다. 왼쪽에는 디자이너의 데이터베이스 패턴이 있고 오른쪽에는 서버 데이터베이스 패턴이 있습니다.

이름이 같은 테이블과 열과 자동으로 일치하거나 오른쪽 콤보 상자에서 매핑 정보와 일치하는 테이블 또는 열을 선택할 수 있습니다.

* 해당 테이블이나 열 항목이 없으면 프로젝트 영역의 배경이 빨간색으로 바뀌어 처리하라는 메시지가 표시됩니다.
* 해결되지 않은 항목이 새 테이블이나 열로 설계된 경우 새로 만들기 또는 새 테이블 및 디자이너 데이터 유지를 선택할 수 있습니다.

&#x20;         \- 새로 만들기: 디자이너 데이터는 유지되지 않습니다.

&#x20;         \- 디자이너 데이터 새로 만들기 및 유지: 데이터 테이블 프로젝트에서만 사용되며&#x20;

&#x20;            디자이너 데이터     는 유지됩니다.

데이터 테이블 프로젝트에서 새로 만들기 또는 새로 만들기 및 디자이너 데이터 유지를 선택하면 다음 열이 자동으로 새로 만들기로 설정됩니다 ”。

디자이너 데이터 테이블 열과 서버 데이터 테이블 열의 데이터 형식이 다른 경우 데이터 형식이 일치하지 않아 데이터가 손실될 수 있습니다. 실제 비즈니스 상황에 맞게 수정하십시오.

디자이너 및 데이터베이스 형식은 다음 테이블에 해당합니다.



| 빌더(디자이너)데이터 유형  | 데이터베이스 데이터 유형  |
| --------------- | -------------- |
| 텍스트             | string         |
| 정수              | long           |
| 소수              | double         |
| 날짜              | double         |
| 시간              | double         |
| 예, 아니오          | long           |
| 사용자             | string         |
| 이미지             | string         |
| 첨부 파일           | string         |

모든 항목이 올바르게 설정되면(항목 배경이 빨간색이 없음) 확인을 클릭하면 매핑 정보가 게시 설정 대화 상자에 저장됩니다.

* 게시 설정 대화 상자를 닫고 데이터 병합 설정을 다시 클릭하면 마지막으로 저장한 설정이 자동으로 로드됩니다.
* 게시 설정 대화 상자를 닫거나 게시 응용 프로그램 이름을 변경하면 저장된 매핑 정보가 지워지고 다시 설정해야 합니다.

매핑 정보를 설정한 후 게시 설정 대화 상자에서 게시를 클릭하여 게시 프로세스를 수행합니다. 디자이너는 마이그레이션 프로세스를 위해 서버 데이터베이스를 복제하는 서버로 매핑 정보를 보냅니다.

#### 설정을 자동으로 백업하기&#x20;

앱 배포를 선택한 경우 서버 데이터베이스 부덮어쓰기로 재정의하도록 선택한 경우 배 시 앱이 자동으로 백업되도록 설정할 수 있습니다.

관리 콘솔의 모든 앱 목록에서 백업할 웹 사이트를 클릭하여 앱의 일반 설정 페이지로 이동합니다.

게시 시 백업의 자동 설정 영역에서 "배포 시점에 웹 사이트 자동 백업"을 선택하고 자동 백업 경로를 설정합니다.

<figure><img src="../../.gitbook/assets/image (1409).png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
* 이 기능은 기본 제공 데이터베이스에만 사용됩니다. 기본 제공 데이터베이스와 아웃리치 데이터베이스를 모두 사용하는 하이브리드 데이터베이스를 사용하는 경우 기본 제공 데이터베이스 부분만 표시하여 매핑 정보를 설정합니다.
* 버전 4.0.100.0 미만의 디자이너는 4.0.100.0 이상의 서버에 적용할 수 없습니다.
{% endhint %}
