# 로그

로그에는 감사 로그와 이 로그가 포함됩니다.



### 감사 로그 <a href="#shen-ji-ri-zhi" id="shen-ji-ri-zhi"></a>

관리 콘솔 및 애플리케이션에 액세스하기 위한 작업 및 요청과 같은 정보를 기록하려면 모듈 설정에서 관리 콘솔 및 모든 애플리케이션에 대한 로그를 활성화해야 하는 모듈을 구성할 수 있습니다.



### 이력로그 <a href="#li-shi-ri-zhi" id="li-shi-ri-zhi"></a>

기록 로그 탭에서는 모든 로그를 볼 수 있으며, 필요에 따라 로그를 쿼리할 수 있습니다.

로그 목록에는 로그의 시간, 로그 유형, 사용자 이름, 기간 및 세부 정보가 표시됩니다.

* ![영상](https://gccndocumentsitestorage.blob.core.chinacloudapi.cn/document-site-files/images/03fe0519-46b1-4a5e-a4a7-f63ca4bfa6df/image.149ecc.png)로그를 CSV로 내보내려면 클릭하세요 .
* 더 많은 쿼리 조건을 설정하려면 "열추가"를 클릭하세요.

<figure><img src="../../../.gitbook/assets/image (2545).png" alt=""><figcaption></figcaption></figure>

![영상](https://gccndocumentsitestorage.blob.core.chinacloudapi.cn/document-site-files/images/03fe0519-46b1-4a5e-a4a7-f63ca4bfa6df/image.83f0bb.png)이 요청과 관련된 로그를 보려면 로그 행의 맨 오른쪽을 클릭하세요 .

### 모듈 설정 <a href="#mo-kuai-she-zhi" id="mo-kuai-she-zhi"></a>

로그를 활성화해야 하는 모듈은 관리 콘솔과 모든 애플리케이션에 대해 별도로 구성할 수 있습니다.

설정이 완료되면 "설정 저장" 버튼을 클릭하세요.



### 설정 저장 <a href="#cun-chu-she-zhi" id="cun-chu-she-zhi"></a>

감사 로그는 애플리케이션별로 별도의 데이터베이스에 저장되며, 각 애플리케이션마다 하나의 데이터베이스가 있으므로 각 애플리케이션은 로그 데이터베이스 저장소와 로그 파일 저장소를 별도로 구성할 수 있습니다.

로그 데이터베이스의 최대 보존 일수, 보존할 최대 로그 파일 수, 로그 파일의 최대 보존 일수 및 단일 파일의 크기 제한을 설정할 수 있습니다.

설정이 완료되면 "설정 저장" 버튼을 클릭하세요.<br>

<table><thead><tr><th width="249">로그 모듈 </th><th>설정 지침 </th></tr></thead><tbody><tr><td>로그인 로그</td><td><p>사이트 접속을 위한 사용자 로그인 로그를 기록합니다. 일반 인증 로그인, Single Sign-On, Windows 도메인 인증 로그인 및 타사 인증 로그인이 포함됩니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함: 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>로그아웃 로그 </td><td><p>사이트에서 로그아웃한 사용자를 기록합니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함: 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>비밀번호 분실 로그</td><td><p>잊어버린 모든 비밀번호 작업은 이 로그에 기록됩니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함: 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>HTTP 로그</td><td><p>애플리케이션에 액세스하기 위해 Http 요청을 보내는 클라이언트의 로그를 기록합니다. Http 요청 로그는 웹 애플리케이션 디버깅, Http 트래픽 검사, 웹 애플리케이션에서 발생하는 상황 확인, 해커의 공격 탐지에 도움이 됩니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 요청 경로, 요청 방법, 상태 코드, 콘텐츠 유형, 콘텐츠 길이, 참조자, HTTPS인지 여부, IP 주소, 사용자 에이전트, 요청 헤더, 응답 헤더, 시간 및 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>사용자 관리 작업 로그</td><td><p>관리 콘솔에 사용자 관리 작업 관련 로그를 기록합니다. 예를 들어 사용자 추가, 역할 수정, 조직 삭제 및 기타 관련 작업이 있습니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>앱작업 로그</td><td><p>관리 콘솔에 애플리케이션 관리 작업 관련 로그를 기록합니다. 예를 들어 애플리케이션 백업, 애플리케이션 복원, 애플리케이션 보안 설정, 애플리케이션 저장 경로 등과 같은 관련 작업입니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 애플리케이션 이름, 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>권한 작업 로그</td><td><p>관리 콘솔의 권한 관리 작업 관련 로그를 기록합니다. 예를 들어 애플리케이션의 리소스 권한, 데이터 권한 등을 수정합니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 애플리케이션 이름, 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>타사 작업 로그</td><td><p>관리 콘솔의 타사 작업 관련 로그를 기록합니다. 예: 새 보안 공급자 추가, 보안 공급자 구성 수정 등</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>설정 작업   로그 </td><td><p>관리 콘솔 설정 작업과 관련된 로그를 기록합니다. 예: 계정 보안 정책, 저장 경로, 사용자 정보 데이터베이스 구성 등</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>라이선스 작업 로그</td><td><p>관리 콘솔 라이선스 작업 관련 로그를 기록합니다. 예를 들어 라이선스 추가, 라이선스 삭제, 라이선스 새로 고침 등이 있습니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>작업 로그 로깅 및 모니터링</td><td><p>관리 콘솔에 로그 및 모니터링 작업 관련 로그를 기록합니다. 예를 들어 모니터링을 수정하고, 로그 데이터베이스 및 기타 관련 작업을 수정합니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 작업 이름, 성공, 정보, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>메일 전송 오류 </td><td><p>사이트에서 보낸 이메일의 로그입니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 성공, 정보, 제목, 보낸 사람, 받는 사람, 복사본 사람, 시간, 사용자 이름.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>데이터베이스 작업 로그</td><td><p>애플리케이션의 데이터베이스 작업을 기록하는 로그입니다. 예: 데이터 쿼리, 데이터 추가, 데이터 수정, 데이터 삭제 등 켠 후에는 로그를 기록할 데이터 테이블도 설정해야 합니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 성공, 개체 이름, 테이블 이름, 결과, 작업 유형, 세부 정보, 테이블 유형, 연결 문자열, IP 주소.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>릴리스 로그</td><td><p>이 로그는 애플리케이션이 오류 없이 성공적으로 게시된 경우에만 표시됩니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 내용: 애플리케이션 이름, 게시자, 설명, 요청 ID.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>SQL 로그</td><td><p>애플리케이션의 모든 SQL 실행 로직을 기록하는 로그입니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함: 성공, Sql, 매개변수, 예외, 사용자 이름, 페이지 이름, 시간.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr><tr><td>서버 명령 로그</td><td><p>애플리케이션 서버 명령을 실행하여 생성된 로그를 기록합니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 사항: 이름, 반환 코드, 정보, 명령 로그, 시작 시간, 사용자 이름, 페이지 이름 및 시간.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p><p>애플리케이션의 "고급 설정"에서는 서버 명령 로그의 세부 수준, 즉 응용 프로그램 실행 후 로그 없음, 간소화, 일반을 포함하여 서버 명령 실행 시 기록되는 로그의 세부 수준을 설정할 수 있습니다. 자세한 내용은 단순화를 위해 기본값입니다.</p><p><img src="https://gccndocumentsitestorage.blob.core.chinacloudapi.cn/document-site-files/images/8ca07557-62b8-4219-8ddd-357e505dc985/image.798c8c.png" alt="영상"><br></p></td></tr><tr><td>작업 스케줄   명령로그</td><td><p>애플리케이션의 예약된 작업을 실행하여 생성된 로그를 기록합니다.</p><p>"활성화"를 체크한 후, 모듈에 의해 기록된 특정 콘텐츠를 선택할 수 있습니다.</p><p>포함 내용: 폴더 이름, 이름, 반환 코드, 반환 정보, 실행 로그, 요청 ID.</p><p>필터 로그 내용을 설정하고 포함 및 제외 키워드를 설정하려면 "필터"를 클릭하세요.</p></td></tr></tbody></table>

### 설정 저장 <a href="#cun-chu-she-zhi" id="cun-chu-she-zhi"></a>

감사 로그는 애플리케이션별로 별도의 데이터베이스에 저장되며, 각 애플리케이션마다 하나의 데이터베이스가 있으므로 각 애플리케이션은 로그 데이터베이스 저장소와 로그 파일 저장소를 별도로 구성할 수 있습니다.

로그 데이터베이스의 최대 보존 일수, 보존할 최대 로그 파일 수, 로그 파일의 최대 보존 일수 및 단일 파일의 크기 제한을 설정할 수 있습니다.

설정이 완료되면 "설정 저장" 버튼을 클릭하세요.

<figure><img src="../../../.gitbook/assets/image (2546).png" alt=""><figcaption></figcaption></figure>

### 진단 로그 <a href="#zhen-duan-ri-zhi" id="zhen-duan-ri-zhi"></a>

문제 추적 및 디버깅을 용이하게 하기 위해 애플리케이션 내의 관리 콘솔 및 프로그램 호출 정보에 대한 액세스를 기록합니다.

#### 이력로그 <a href="#li-shi-ri-zhi" id="li-shi-ri-zhi"></a>

내역 로그 탭에서는 모든 프로그램 호출 정보를 볼 수 있습니다. 모든 애플리케이션 및 관리 콘솔 로그는 통합되어 여기에 시간순으로 표시됩니다. 로그를 필터링하기 위한 조건을 설정할 수 있습니다.

전체 진단 로그 항목은 타임스탬프, 로그 수준, 스레드 ID, 추적 컨텍스트 ID, 애플리케이션 이름, 프로세스 이름, 로그 콘텐츠 등 7개 부분으로 구성됩니다.

<figure><img src="../../../.gitbook/assets/image (2547).png" alt=""><figcaption></figcaption></figure>

* 타임스탬프: 로그 기록 시간을 나타냅니다. 이 시간과 텍스트 파일의 시간 사이에는 약간의 차이(밀리초 정도)가 있을 수 있습니다.
* 로그 수준: 현재 진단 로그는 문제의 심각도에 따라 오름차순으로 추적, 디버그, 정보, 경고, 오류의 5개 수준으로 나뉩니다. 시스템은 기본적으로 정보 수준 로깅을 활성화합니다. 오류 수준 로그는 빨간색으로 표시되고, 경고 수준 로그는 노란색으로 표시되며, 기타 수준 로그는 기본 색상으로 표시됩니다.
* 스레드 ID: 스레드 ID는 로그를 기록하는 스레드의 ID를 나타냅니다. 동시성이 높은 시나리오에서는 다수의 동일한 요청이 서버로 전송될 수 있으며 이로 인해 다수의 중복 로그가 발생할 수 있습니다. 따라서 스레드 ID는 특정 문제를 효과적으로 찾아낼 수 있습니다. C# 기술 스택에 기록된 스레드 ID는 숫자인 반면 Java 기술 스택에 기록된 스레드 ID는 문자열이라는 점에 유의해야 합니다.
* 애플리케이션 이름: 사용자가 게시한 애플리케이션의 이름을 나타냅니다. 그러나 다른 공용 구성 요소(예: 사용자 관리)의 경우 애플리케이션 이름이 없으며 해당 애플리케이션 이름은 기본적으로 프로세스 이름으로 설정됩니다. 또한 BPM 엔진 및 Java 어댑터와 같은 공용 구성 요소의 경우 애플리케이션에서 보낸 요청을 수신할 때 애플리케이션 이름이 있지만 전체 HTTP 범위 외부에서는 애플리케이션 이름이 없습니다.
* 프로세스 이름: WorkerService, UserService, Server2, ForguncyBpmEngine 및 ForguncyJavaAdapter와 같은 서비스 구성 요소를 포함하여 로그를 작성하는 프로세스의 이름입니다.
* 로그 내용: 로그의 내용입니다.

로그 표시 내용, 편집기 표시 내용, 기본 글꼴 크기, 스크롤 로딩 항목 수 등을 구성하여 ![영상](https://gccndocumentsitestorage.blob.core.chinacloudapi.cn/document-site-files/images/03fe0519-46b1-4a5e-a4a7-f63ca4bfa6df/image.4bd81e.png)고급 설정을 지정하고 공개 로그 접두어 표시를 사용자 정의 하려면 클릭하세요 .

<figure><img src="../../../.gitbook/assets/image (183).png" alt=""><figcaption></figcaption></figure>

* 로그 표시 내용: 스레드 ID,  ContextId, 앱 이름, 프로세스 명을 확인할 수 있습니다.
* 편집기 표시 내용: 로그의 썸네일을 표시할지 여부입니다. 썸네일이 활성화되면 VsCode의 썸네일과 유사한 썸네일이 로그 편집기 오른쪽에 표시됩니다.
* 기본 크기: 로그 콘텐츠의 글꼴 크기를 사용자 정의합니다. 기본 글꼴 크기는 13.5픽셀로 설정되어 있습니다.
* 스크롤 로드 항목 수: 진단 로그는 폭포 스타일로 페이지가 매겨집니다. 이 설정은 스크롤당 로드할 데이터 행 수를 나타냅니다. 스크롤 로딩 항목의 기본 개수는 100개입니다.

### 레벨 설정 <a href="#ji-bie-she-zhi" id="ji-bie-she-zhi"></a>

관리 콘솔 및 기타 모든 애플리케이션에 대한 로그 수준의 독립적 설정을 지원합니다. 로그 수준을 전환하면 해당 수준의 로그만 기록되는 것이 아니라, 더 높은 수준의 로그도 기록됩니다.

예를 들어 로그 수준이 "정보"로 전환되면 진단 로그는 정보, 경고 및 오류 수준 로그를 기록하지만 디버깅 및 추적 수준 로그는 기록하지 않습니다.

로그 수준을 수정하면 서비스를 다시 시작하지 않고도 실시간으로 적용됩니다.

<figure><img src="../../../.gitbook/assets/image (2548).png" alt=""><figcaption></figcaption></figure>

#### 설정 저장 <a href="#cun-chu-she-zhi" id="cun-chu-she-zhi"></a>

* 로그 데이터베이스가 기본 InfluxDB인 경우 로그 데이터베이스의 최대 보존 기간을 구성할 수 있으며 기본적으로 28일입니다. 시스템은 28일이 지난 로그를 자동으로 삭제합니다.
* 로그 데이터베이스가 Elasticsearch인 경우 로그 데이터베이스의 최대 보존 기간 구성은 지원되지 않습니다.

로깅은 텍스트 파일 로그로 수행됩니다. 다음과 같이 로그를 설정할 수 있습니다.

* 보유할 최대 로그 파일 수: 보유할 최대 로그 파일 수를 나타냅니다. 기본 설정은 비어 있습니다. 이는 저장되는 파일 수에 제한이 없음을 의미합니다.
* 로그 파일의 최대 보존 일수: 로그 파일의 최대 보존 일수입니다. 기본값은 데이터베이스 보존 일수와 동일하며 28일입니다.
* 단일 파일 크기 제한(MB): 단일 로그 파일의 크기 제한은 기본적으로 10MB로 설정됩니다. 로그 파일이 10MB를 초과하면 시스템은 자동으로 로그를 새 파일로 분할합니다.

### 로그 수집 <a href="#ri-zhi-shou-ji" id="ri-zhi-shou-ji"></a>

분석하고자 하는 로그 정보의 시작 시간과 종료 시간을 선택한 후, "생성" 버튼을 클릭하면 정보 수집이 시작됩니다. 정보가 수집되면 "다운로드" 버튼을 클릭하세요. 생성된 psi 압축 패키지를 당사로 보내주시면 오류 분석에 도움을 드리겠습니다.

### 로그 데이터베이스 <a href="#ri-zhi-shu-ju-ku" id="ri-zhi-shu-ju-ku"></a>

로그 데이터는 기본적으로 InfluxDB 데이터베이스에 저장됩니다. 다른 데이터베이스로 전환할 수 있습니다. 전환 후에는 새 로그 데이터가 전환된 데이터베이스에 저장됩니다.<br>

<figure><img src="../../../.gitbook/assets/image (186).png" alt=""><figcaption></figcaption></figure>
